(function ($) {

    var manifest = `#EXTM3U
    #EXTINF:-1 tvg-ID="" tvg-name="##### |UK| KIDS |FHD| #####" tvg-logo="http://212.8.253.112/COBRALOGO/UK/Uk.png" group-title="UK| KIDS",##### |UK| KIDS |FHD| #####
    http://185.79.114.12:25461/greetings.mp4
    #EXTINF:-1 tvg-ID="cartoonnetwork.us" tvg-name="|UK|FHD| CARTOON NETWORK" tvg-logo="http://212.8.253.112/COBRALOGO/UK/CartoonNetwork.png" group-title="UK| KIDS",|UK|FHD| CARTOON NETWORK
    http://line.ma-cobra.com:80/Cesar2/Y5SNvNqGfyxH3Qb/100912
    #EXTINF:-1 tvg-ID="disneychannel.uk" tvg-name="|UK|FHD| DISNEY CHANNEL" tvg-logo="http://212.8.253.112/COBRALOGO/UK/DIsneyChannel.png" group-title="UK| KIDS",|UK|FHD| DISNEY CHANNEL
    http://line.ma-cobra.com:80/Cesar2/Y5SNvNqGfyxH3Qb/100913
    #EXTINF:-1 tvg-ID="disneyjunior.uk" tvg-name="|UK|FHD| DISNEY JUNIOR" tvg-logo="http://212.8.253.112/COBRALOGO/UK/DisneyJunior.png" group-title="UK| KIDS",|UK|FHD| DISNEY JUNIOR
    http://line.ma-cobra.com:80/Cesar2/Y5SNvNqGfyxH3Qb/100914
    #EXTINF:-1 tvg-ID="disneyxd.uk" tvg-name="|UK|FHD| DISNEY XD" tvg-logo="http://212.8.253.112/COBRALOGO/UK/DisneyXD.png" group-title="UK| KIDS",|UK|FHD| DISNEY XD
    http://line.ma-cobra.com:80/Cesar2/Y5SNvNqGfyxH3Qb/100915
    #EXTINF:-1 tvg-ID="comedycentral.uk" tvg-name="|UK|FHD| COMEDY CENTRAL" tvg-logo="http://212.8.253.112/COBRALOGO/UK/ComedyCentral.png" group-title="UK| KIDS",|UK|FHD| COMEDY CENTRAL
    http://line.ma-cobra.com:80/Cesar2/Y5SNvNqGfyxH3Qb/100916
    #EXTINF:-1 tvg-ID="nickjunior.uk" tvg-name="|UK|FHD| NICK" tvg-logo="http://212.8.253.112/COBRALOGO/UK/Nick.png" group-title="UK| KIDS",|UK|FHD| NICK
    http://line.ma-cobra.com:80/Cesar2/Y5SNvNqGfyxH3Qb/100917
    #EXTINF:-1 tvg-ID="cbeebies.uk" tvg-name="|UK|FHD| CBEEBIES" tvg-logo="http://212.8.253.112/COBRALOGO/UK/CBeebies.png" group-title="UK| KIDS",|UK|FHD| CBEEBIES
    http://line.ma-cobra.com:80/Cesar2/Y5SNvNqGfyxH3Qb/100919
    #EXTINF:-1 tvg-ID="" tvg-name="##### |UK| KIDS |SD| #####" tvg-logo="http://212.8.253.112/COBRALOGO/UK/Uk.png" group-title="UK| KIDS",##### |UK| KIDS |SD| #####
    http://185.79.114.12:25461/greetings.mp4
    #EXTINF:-1 tvg-ID="babytv.uk" tvg-name="|UK|SD| BABY TV" tvg-logo="http://212.8.253.112/COBRALOGO/UK/BabyTV.png" group-title="UK| KIDS",|UK|SD| BABY TV
    http://line.ma-cobra.com:80/Cesar2/Y5SNvNqGfyxH3Qb/100921
    #EXTINF:-1 tvg-ID="boomerang.uk" tvg-name="|UK|SD| BOOMERANG" tvg-logo="http://212.8.253.112/COBRALOGO/UK/Boomerang.png" group-title="UK| KIDS",|UK|SD| BOOMERANG
    http://line.ma-cobra.com:80/Cesar2/Y5SNvNqGfyxH3Qb/100922
    #EXTINF:-1 tvg-ID="cartoonito.uk" tvg-name="|UK|SD| CARTOONITO (NOT 24)" tvg-logo="http://212.8.253.112/COBRALOGO/UK/Cartoonito.png" group-title="UK| KIDS",|UK|SD| CARTOONITO (NOT 24)
    http://line.ma-cobra.com:80/Cesar2/Y5SNvNqGfyxH3Qb/100923
    #EXTINF:-1 tvg-ID="cartoonnetwork.uk" tvg-name="|UK|SD| CARTOON NETWORK" tvg-logo="http://212.8.253.112/COBRALOGO/UK/CartoonNetwork.png" group-title="UK| KIDS",|UK|SD| CARTOON NETWORK
    http://line.ma-cobra.com:80/Cesar2/Y5SNvNqGfyxH3Qb/100924
    #EXTINF:-1 tvg-ID="comedycentral.uk" tvg-name="|UK|SD| COMEDY CENTRAL" tvg-logo="http://212.8.253.112/COBRALOGO/UK/ComedyCentral.png" group-title="UK| KIDS",|UK|SD| COMEDY CENTRAL
    http://line.ma-cobra.com:80/Cesar2/Y5SNvNqGfyxH3Qb/100925
    #EXTINF:-1 tvg-ID="comedycentralextra.uk" tvg-name="|UK|SD| COMEDY CENTRAL EXTRA" tvg-logo="http://212.8.253.112/COBRALOGO/UK/ComedyCentralExtra.png" group-title="UK| KIDS",|UK|SD| COMEDY CENTRAL EXTRA
    http://line.ma-cobra.com:80/Cesar2/Y5SNvNqGfyxH3Qb/100926
    #EXTINF:-1 tvg-ID="disneychannel.uk" tvg-name="|UK|SD| DISNEY CHANNEL" tvg-logo="http://212.8.253.112/COBRALOGO/UK/DIsneyChannel.png" group-title="UK| KIDS",|UK|SD| DISNEY CHANNEL
    http://line.ma-cobra.com:80/Cesar2/Y5SNvNqGfyxH3Qb/100927
    #EXTINF:-1 tvg-ID="disneyjunior.uk" tvg-name="|UK|SD| DISNEY JUNIOR" tvg-logo="http://212.8.253.112/COBRALOGO/UK/DisneyJunior.png" group-title="UK| KIDS",|UK|SD| DISNEY JUNIOR
    http://line.ma-cobra.com:80/Cesar2/Y5SNvNqGfyxH3Qb/100928
    #EXTINF:-1 tvg-ID="disneyxd.uk" tvg-name="|UK|SD| DISNEY XD" tvg-logo="http://212.8.253.112/COBRALOGO/UK/DisneyXD.png" group-title="UK| KIDS",|UK|SD| DISNEY XD
    http://line.ma-cobra.com:80/Cesar2/Y5SNvNqGfyxH3Qb/100929
    #EXTINF:-1 tvg-ID="nickjunior.uk" tvg-name="|UK|SD| NICK JR PEPPA" tvg-logo="http://212.8.253.112/COBRALOGO/UK/NickJRPeppa.png" group-title="UK| KIDS",|UK|SD| NICK JR PEPPA
    http://line.ma-cobra.com:80/Cesar2/Y5SNvNqGfyxH3Qb/100930
    #EXTINF:-1 tvg-ID="nickjunior.uk" tvg-name="|UK|SD| NICK JUNIOR" tvg-logo="http://212.8.253.112/COBRALOGO/UK/NickelodeonJunior.png" group-title="UK| KIDS",|UK|SD| NICK JUNIOR
    http://line.ma-cobra.com:80/Cesar2/Y5SNvNqGfyxH3Qb/100931
    #EXTINF:-1 tvg-ID="nickelodeon.uk" tvg-name="|UK|SD| NICKELODEON" tvg-logo="http://212.8.253.112/COBRALOGO/UK/Nickelodeon.png" group-title="UK| KIDS",|UK|SD| NICKELODEON
    http://line.ma-cobra.com:80/Cesar2/Y5SNvNqGfyxH3Qb/100932
    #EXTINF:-1 tvg-ID="nicktoons.uk" tvg-name="|UK|SD| NICKTOONS" tvg-logo="http://212.8.253.112/COBRALOGO/UK/NickToons.png" group-title="UK| KIDS",|UK|SD| NICKTOONS
    http://line.ma-cobra.com:80/Cesar2/Y5SNvNqGfyxH3Qb/100933
    #EXTINF:-1 tvg-ID="tinypop.uk" tvg-name="|UK|SD| TINY POP" tvg-logo="http://212.8.253.112/COBRALOGO/UK/TinyPop.png" group-title="UK| KIDS",|UK|SD| TINY POP
    http://line.ma-cobra.com:80/Cesar2/Y5SNvNqGfyxH3Qb/100934
    #EXTINF:-1 tvg-ID="tinypopplus1.uk" tvg-name="|UK|SD| TINY POP+1" tvg-logo="http://212.8.253.112/COBRALOGO/UK/TinyPop.png" group-title="UK| KIDS",|UK|SD| TINY POP+1
    http://line.ma-cobra.com:80/Cesar2/Y5SNvNqGfyxH3Qb/101151
    `

    var parser = new m3u8Parser.Parser();

    parser.push(manifest);
    parser.end();

    var parsedManifest = parser.manifest;

    var player = $('.container #video_player #video')[0]
    var playerSource = $('.container #video_player #video source')[0]
    var current = 0;
    var total = parsedManifest.segments.length
    $('#play_prev').click(function(){
        player.pause()
        if (current===0) {
            current = total-1
        }
        playerSource.setAttribute('src', parsedManifest.segments[current].uri); 
        player.load()
        player.play()
    })
    $('#play_next').click(function(){
        player.pause()
        if (current===total-1) {
            current = 0
        }
        playerSource.setAttribute('src', parsedManifest.segments[current].uri); 
        player.load()
        player.play()
    })
})(jQuery);